{% extends 'bulletin_board/base_main.html' %}

{% block title %}
  {{ car.car_brand|title }} {{ car.car_model|title }}, {{ car.year_of_manufacture }} - {{block.super}}
{% endblock %}

{% block content %}
<div class="row mb-3">
    <div class="col-md-8">
        <h2>{{ car.car_brand|title }} {{ car.car_model|title }}, {{ car.year_of_manufacture }}</h2> 
    </div>
    <div class="col-md-4 ml-auto">
       <h2>{{ car.price }} Р</h2>
    </div>

</div>

        <div class="row">
          <div class="col-md-7">
                <div id="carouselExampleIndicators" class="carousel">
                  <ol class="carousel-indicators">
                  {% for image in car.all_images.all %}
                  {% if forloop.first %}
                    <li data-target="#carouselExampleIndicators" data-slide-to="{{ forloop.counter0 }}" class="active"></li>
                  {% endif %}  
                  {% if not forloop.last %}
                    <li data-target="#carouselExampleIndicators" data-slide-to="{{ forloop.counter0 }}"></li>
                  {% endif %}
                  {% endfor %}
                  </ol>

                  <div class="carousel-inner d-flex align-content-center flex-wrap mx-auto gallery-img-wrapper">
                      
                    {% for image in car.all_images.all %}
                    {% if forloop.first %}
                        <div class="carousel-item active">
                            <span class="gallery-img-cover" style="background-image: url('{{ image.image_data_link.url }}')"></span>  
                    {% else %}
                    
                        <div class="carousel-item">
                            <span class="gallery-img-cover" style="background-image: url('{{ image.image_data_link.url }}')"></span>
                    {% endif %}
                    
                            <img src="{{ image.image_data_link.url }}" style="position: relative; width: auto; height: auto;" alt="{{ car.car_title }}">
                        </div>
                    {% endfor %}
     
                </div>

                  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                  </a>
                </div>
                </div>

                <div class="col-md-5">
                  <span><h2>{{ car.seller.username|title }}<button class="btn btn-lg btn-primary ml-2" disabled>{{ car.seller.username.0|upper }}</button></h2></span>
                  <p class="card-text"><h2>{{ car.phone }}</h2></p>                       
                  <p class="card-text"><button type="button" class="btn btn-outline-secondary" disabled>Добавлено: {{ car.pub_date }}</button></p>
                </div>
            </div>
                <div class="row">
                  <div class="col-md-8">
                <div class="item-view-block">
                  <div class="item-params">
                      <ul class="item-params-list">
                          <li class="item-params-list-item"> <span class="item-params-label">Марка: </span>{{ car.car_brand|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Модель: </span>{{ car.car_model|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Поколение: </span>{{ car.car_generation }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Модификация: </span>{{ car.modif }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Год выпуска: </span>{{ car.year_of_manufacture }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Пробег: </span>{{ car.car_mileage }} км </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Состояние: </span>{{ car.condition|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Владельцев по ПТС: </span>{{ car.owners }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">VIN или номер кузова: </span>{{ car.vin_number }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Тип кузова: </span>{{ car.type_chassis|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Количество дверей: </span>{{ car.doors }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Тип двигателя: </span>{{ car.engine_type|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Коробка передач: </span>{{ car.transmission|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Привод: </span>{{ car.drive|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Руль: </span>{{ car.steering_side|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Цвет: </span>{{ car.color|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Комплектация: </span>{{ car.equipment }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Место осмотра: </span>{{ car.view_place|title }} </li>
                          <li class="item-params-list-item"> <span class="item-params-label">Объём двигателя: </span>{{ car.engine_volume }} л </li>
                      </ul>
                   </div>
                </div>

                <div class="d-flex mt-5 justify-content-center">
                    {{ car.car_description }}
                </div>
              </div>
 

         
</div>
 
{% endblock %}